<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    
    <style>
    
        /* Estilos globales */
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont,   "Helvetica Neue", "Segoe UI", Roboto, sans-serif;
            
        }

        /* Contenedor principal */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Ejemplo de cabecera */
        header {
            background-color: lightgrey;
            color: black;
            padding: 10px 0;
            text-align: center;
            margin-bottom: 20px;
        }

        /* Estilos responsivos */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
        }

        /* Estilos para la tabla */
        table {
            
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: lightgrey;
        }

        /* Estilos para respuestas correctas e incorrectas */
        .correct {
            background-color: green;
        }

        .incorrect {
            background-color: red;
        }

 /* Estilos para respuestas correctas e incorrectas */
        .correct1 {
            color: green;
           
        }

        .incorrect1 {
            color: red;
            
        }

/* Estilos elegantes para el cuadro de puntuación */
#box {
    width: 200px;
    height: 100px;
    margin: 20px auto;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 30px;
    background: linear-gradient(135deg, #FFD700, #FFA500);
    border: 3px solid #d4af37;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    font-size: 22px;
    font-weight: bold;
    color: #6a0dad;
    padding: 10px 20px;
    text-align: center;
    transition: all 0.3s ease-in-out;
}


@keyframes scoreUpdate {
    0%, 100% {
        transform: scale(1);
    }
    25% {
        transform: scale(1.1);
    }
    50% {
        transform: scale(1);
    }
    75% {
        transform: scale(1.1);
    }
}

/* Aplicar animación con repetición durante 5s */
.score-updated {
    animation: scoreUpdate 1s ease-in-out infinite; /* Se repite indefinidamente */
}





     /* Estilos para el botón de comprobación */
.check-button {
    background: linear-gradient(135deg, #6a0dad, #9400d3);
    color: white;
    font-size: 18px;
    font-weight: bold;
    border: none;
    padding: 12px 24px;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    outline: none;
}

.check-button:hover {
    background: linear-gradient(135deg, #9400d3, #6a0dad);
    transform: scale(1.05);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
}

.check-button:active {
    transform: scale(0.98);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

/* Contenedor flex para organizar table-container y parent-container */
        .main-container {
            display: flex;
            flex-direction: column;
            
        }

        @media (min-width: 801px) {
            .main-container {
                flex-direction: row;
               justify-content: flex-start;
                gap: 20px;
            }
        }

  /* Estilos específicos para la tabla en diferentes tamaños de pantalla */
        .new-box {
            display: center;
            width: 94%;
            padding: 5px 5px;
            background-color: lightblue;
            text-align: flex;
            margin-bottom: 10px;
            padding-left: 10px;
            padding-right: 10px;
            
        }

        @media (max-width: 800px) {
            .new-box {
                justify-content: center;
                
            }
        }

        @media (min-width: 801px) {
            .new-box {
                justify-content: flex-start;
              
            }
        }
  /* Estilos específicos para la tabla en diferentes tamaños de pantalla */
        .table-container {
            display: flex;
        }

        @media (max-width: 800px) {
            .table-container {
                justify-content: center;
            }
        }

        @media (min-width: 801px) {
            .table-container {
                justify-content: flex-start;
            }
        }

 .parent-container {
            display: flex;
            justify-content: center;
        }

  @media (max-width: 800px) {
            .parent-container {
                justify-content: center;
            }
        }

        @media (min-width: 801px) {
            .parent-container {
                justify-content: flex-start;
            }
        }

        .button-container {
            display: flex;
            flex-direction: column;
            width: 200px;
            margin-right: 20px; /* Espacio entre los dos contenedores */
            margin-top: 40px;
            
        }

        .button-container1 {
            display: flex;
            flex-direction: column;
            width: 200px;
        }
p {
        text-align: left; /* Ajusta este valor según lo necesites */
        margin-top: 0px; 
        margin-bottom: 0px;
    }

.ABC {
         text-align: center;
         font-size: 24px;
         font-weight: bold;
        }

 .animate-letter {
            display: inline-block;
        }
        /* Definir una duración personalizada */
        .animate-custom {
            animation-duration: 1s; /* Ajusta la duración según tu preferencia */
        }

.section {
            margin-bottom: 20px;
            text-align: left; 
}

.tabla-T3{
            width: 50%;
            border-collapse: collapse;
            display: flex;
            margin: 0 auto;
            padding: 200px;
            
}

 .tabla-T3 th {
            background-color: #f2f2f2;
            padding: 4px;
        }
 tabla-T3 th,  .tabla-T3 td {
            border: 1px solid #ddd;
            padding: 4px;
            text-align: left;
        }

  .container1 {
            background: white;
            padding: 20px;
            margin: 20px 6px;
            box-shadow: 0 0 10px rgba(1, 1, 1, 6.1);
            max-width: 800px;
            border-radius: 6%;
        }

        .image-container {
            width: 100%;
            border-collapse: collapse;
            
        }
       .image-container img {
            width: 150px;
            height: 200px;
}

hr.dotted-line {
            border: none;
            border-top: 1px dotted black;
            margin: 20px 0;
        }

  .container2 {
            background: lightblue;
            padding: 12px;
            margin: 20px auto;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 50px;
            height: 0px;
        }
.rectangulo {
            display: inline-block;
            border: 1px solid #000;
            padding: 2px 5px;
            margin: 0 2px;
            font-family: Arial, sans-serif;
        }
.fragmento {
            border: 1px solid #000;
            padding: 10px;
            margin: 10px 0;
            background-color: #f9f9f9;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
        }
        .fragmento p {
            margin: 0;
        }
        .fragmento strong {
            font-family: 'Times New Roman', Times, serif;
        }
 
.table-container {
            display: flex;
            justify-content: center;
 }

  select {
            font-size: 14px;
            font-weight: bold;
        }
        option {
            font-size: 14px;
            font-weight: bold;
        }

.cabezado {
            background-color: #0078d7;
            color: #fff;
            padding: 10px 20px;
            border-bottom: 1px solid #005bb5;
        }
        .cabezado h1 {
            margin: 0;
            font-size: 1.5em;
        }
.be {
width:30px;
height: 60px;
 }
 
 
  
        #timer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: yellow;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3em;
            height: 100px;
            z-index: 999;
        }

@keyframes bounceUpDown {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
    
/* Botón flotante en el lateral derecho solo en móviles */
#floating-button {
  position: fixed;
  bottom: 20px;
  right: 5px;
  background-color: #6a0dad;
  color: white;
  border: none;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 9999;
}

#floating-button i {
  font-size: 24px;
}

/* Solo visible en pantallas móviles */
@media (min-width: 769px) {
  #floating-button {
    display: none;
  }
}
@media (min-width: 1001px) {
  .container1 {
    width: 80%; /* Ancho del contenedor (ajusta según necesites) */
    margin: 0 auto; /* Centra el contenedor horizontalmente */
    text-align: justify; /* Justifica el texto dentro del contenedor */
  }
}

.refresh-btn {
            position: fixed;
            bottom: 80px;
            right: 5px;
            padding: 5px;
            font-size: 24px;
            color: white;
            background-color: #e67e22;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            animation: spin 3s linear forwards;
            transition: background-color 0.3s ease;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            width: 50px;
            height: 50px;
        }
        .refresh-btn:hover {
            background-color: #d35400;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(1080deg); }
        }
        .back-button {
            position: fixed;
            bottom: 140px;
            right: 5px;
            padding: 5px;
            font-size: 24px;
            color: white;
            background-color: greenyellow;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            width: 50px;
            height: 50px;
        }

.back-button:hover {
    background: green;
    transform: scale(1.05);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
}

.back-button:active {
    transform: scale(0.98);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Tarea 3</h1>
    </header>
    <div class="new-box">
        <p><strong>INSTRUCCIONES:</strong><br>
        Usted va a leer tres textos de tres personas que hablan sobre su experiencia de irse a vivir al campo.
        Relacione las preguntas (14-19) con los textos (A, B o C).
        Marque las opciones elegidas en la Hoja de respuestas.</p>
    </div>

    <span class="cabeza"></span>
    <div class="container1">
        <hr>
        <div class="section image-container">
            <center><img style="width: 200px" id="img1" class="hidden" src="https://i.ibb.co/cXpXZxV/Captura-de-pantalla-2024-07-14-a-las-13-54-25.png">
            <div class="section">
                <h2 class="animate__pulse animate__animated animate__bounce animate-custom animate-letter animate__infinite">A. Paula</h2>
                <p>Desde que dejé mi pueblo, en el que viví con mi familia hasta los 16 años para irme a la ciudad, nunca pensé en cambiar de vida otra vez. Yo era la típica persona cosmopolita que trabajaba en una gran empresa, ganaba mucho dinero y tenía un apartamento en el centro de la ciudad. Hasta que un día fui al hospital con un fuerte dolor en el pecho y me dijeron que tenía que llevar una vida más tranquila. Vendí mi apartamento y me compré una casa en el centro de un pueblo lejos de la ciudad. Y ahora es donde tengo una pequeña escuela de pintura. No tengo mucho dinero, pero tampoco necesito más.</p>
            </div>
        </div>
        <hr>
        <div class="section image-container">
            <center><img style="width: 200px" id="img2" class="hidden" src="https://i.ibb.co/yy22FRw/Captura-de-pantalla-2024-07-14-a-las-13-54-35.png">
            <div class="section">
                <h2 class="animate__pulse animate__animated animate__bounce animate-custom animate-letter animate__infinite">B. Violeta</h2>
                <p>Mi pareja y yo siempre tuvimos claro que queríamos vivir en la naturaleza, pero cuando nació nuestra hija fue cuando hicimos el cambio. Tenemos suerte porque los dos trabajamos en la misma empresa de tecnología, para la que podemos trabajar desde casa. Siempre nos ha gustado salir con amigos, las actividades culturales... y eso lo echamos de menos, pero seguimos haciéndolo, no tanto como antes, claro, pero estamos muy cerca de Barcelona. También en el campo gastas menos porque no sales tanto a cenar o de compras. Llevamos ya cuatro años viviendo en el campo y nos encanta, nuestra hija va al colegio del pueblo más cercano pero, eso sí, necesitamos coche para todo porque vivimos lejos del pueblo.</p>
            </div>
        </div>
        <hr>
        <div class="section image-container">
            <center><img style="width: 200px" id="img3" class="hidden" src="https://i.ibb.co/2jQ9ZMx/Captura-de-pantalla-2024-07-14-a-las-13-54-48.png" alt="Imagen 3">
            <div class="section">
                <h2 class="animate__pulse animate__animated animate__bounce animate-custom animate-letter animate__infinite">C. Carmen</h2>
                <p>He nacido y crecido en la gran ciudad. Desde hace unos pocos años vivo en un pequeño pueblo de algo más de 200 habitantes, donde yo pasaba las vacaciones. Siempre me ha gustado la ciudad y vivir en ella, pero el alojamiento o la comida son muy caros y aquí es todo lo contrario. Yo estaba en el paro, en el supermercado del pueblo buscaban una dependienta, envié mi currículum y a las dos semanas me llamaron. Me traje a toda la familia para empezar ese mismo mes. Quizás lo más difícil fue para mis hijos adolescentes, pero aquí tienen más libertad, van andando solos al colegio y son más felices.</p>
            </div>
        </div>
    </div>
    <span class="cabeza"></span>
    <div class="container" id="questions-container"> 
        <div class="section">
            
            <strong style="color: #005bb5;">14.</strong> <u><strong style="color: #005bb5;">¿Quién vive a las afueras de un pueblo?</strong></u><br><br> 
            <label><input type="radio" name="q1" value="a">A) Paula</label><br>
            <label><input type="radio" name="q1" value="b">B) Violeta</label><br>
            <label><input type="radio" name="q1" value="c">C) Carmen</label><br><br>

           
            <strong style="color: #005bb5;">15.</strong> <u><strong style="color: #005bb5;">¿Quién cree que los precios en el campo son más baratos?</strong></u><br><br> 
            <label><input type="radio" name="q2" value="a">A) Paula</label><br>
            <label><input type="radio" name="q2" value="b">B) Violeta</label><br>
            <label><input type="radio" name="q2" value="c">C) Carmen</label><br><br>

           
            <strong style="color: #005bb5;">16.</strong> <u><strong style="color: #005bb5;">¿Quién tiene su propio negocio?</strong></u><br><br> 
            <label><input type="radio" name="q3" value="a">A) Paula</label><br>
            <label><input type="radio" name="q3" value="b">B) Violeta</label><br>
            <label><input type="radio" name="q3" value="c">C) Carmen</label><br><br>

            
            <strong style="color: #005bb5;">17.</strong> <u><strong style="color: #005bb5;">¿Quién se fue por trabajo?</strong></u><br><br> 
            <label><input type="radio" name="q4" value="a">A) Paula</label><br>
            <label><input type="radio" name="q4" value="b">B) Violeta</label><br>
            <label><input type="radio" name="q4" value="c">C) Carmen</label><br><br>

            
            <strong style="color: #005bb5;">18.</strong> <u><strong style="color: #005bb5;">¿Quién conocía el lugar antes de ir a vivir allí?</strong></u><br><br> 
            <label><input type="radio" name="q5" value="a">A) Paula</label><br>
            <label><input type="radio" name="q5" value="b">B) Violeta</label><br>
            <label><input type="radio" name="q5" value="c">C) Carmen</label><br><br>

            
            <strong style="color: #005bb5;">19.</strong> <u><strong style="color: #005bb5;">¿Quién conocía el lugar antes de ir a vivir allí?</strong></u><br><br> 
            <label><input type="radio" name="q6" value="a">A) Paula</label><br>
            <label><input type="radio" name="q6" value="b">B) Violeta</label><br>
            <label><input type="radio" name="q6" value="c">C) Carmen</label><br><br>
        </div>
    </div>

</div>


<button id="floating-button" onclick="toggleScroll()">
    <i class="fas fa-arrow-down"></i>
  </button>
    <button class="refresh-btn" onclick="location.reload()">
    <i class="fas fa-sync-alt"></i>
 </button>
    
     <button class="back-button" onclick="goBack()">
    <i class="fas fa-arrow-left"></i>
</button>
  
<center><i class="fas fa-hand-point-down" style="font-size: 24px; animation: bounceUpDown 2s infinite; color: red;"></i></center>
 <div style='text-align: center'>
            <button class="check-button" onclick="checkAnswers();">Comprobar respuestas</button>
<div id="box">
            <p id="score"></p>
        </div>
    </div>
            <br>
        </div>
<script>

           // Bloquear acceso si el usuario no está autenticado
    if (sessionStorage.getItem('authenticated') !== 'true') {
        // Muestra un mensaje de error y redirige a la página principal
        Swal.fire({
            icon: 'error',
            title: 'Acceso restringido',
            text: 'Por favor, autentícate antes de acceder a esta página.',
            confirmButtonText: 'Volver al inicio'
        }).then(() => {
            window.location.href = 'https://fawzinoo.github.io/Rep/Aprende.html';
        });
    }  
    
    let inactivityTimeout;

function resetInactivityTimer() {
    clearTimeout(inactivityTimeout);
    inactivityTimeout = setTimeout(() => {
        window.location.href = 'https://fawzinoo.github.io/Rep/Aprende.html';
    }, 3600000); //
}
        
function goBack() {
    window.history.back();
}
    
let currentTextIndex = 0; // Índice del texto actual
const texts = document.querySelectorAll('.cabeza'); // Selecciona todos los textos
const floatingButton = document.getElementById('floating-button');

function toggleScroll() {
  // Si estamos en el último texto, volvemos al primero
  if (currentTextIndex === texts.length - 1) {
    window.scrollTo({
      top: texts[0].offsetTop,
      behavior: 'smooth'
    });
    currentTextIndex = 0; // Reiniciamos el índice
    floatingButton.innerHTML = '<i class="fas fa-arrow-down"></i>'; // Cambiamos la flecha a "bajar"
  } else {
    // Avanzamos al siguiente texto
    currentTextIndex++;
    window.scrollTo({
      top: texts[currentTextIndex].offsetTop,
      behavior: 'smooth'
    });

    // Si llegamos al último texto, cambiamos la flecha a "subir"
    if (currentTextIndex === texts.length - 1) {
      floatingButton.innerHTML = '<i class="fas fa-arrow-up"></i>';
    }
  }
}

// Detectar la posición del scroll para actualizar la flecha automáticamente
window.addEventListener('scroll', () => {
  const scrollPosition = window.scrollY;

  // Verificar en qué texto está el usuario
  texts.forEach((text, index) => {
    const textTop = text.offsetTop;
    const textBottom = textTop + text.clientHeight;

    if (scrollPosition >= textTop && scrollPosition < textBottom) {
      currentTextIndex = index; // Actualizar el índice del texto actual

      // Cambiar la flecha automáticamente si estamos en el último texto
      if (index === texts.length - 1) {
        floatingButton.innerHTML = '<i class="fas fa-arrow-up"></i>';
      } else {
        floatingButton.innerHTML = '<i class="fas fa-arrow-down"></i>';
      }
    }
  });
});






    // Función para mostrar texto usando SweetAlert
  function showText(title, text) {
      swal({
          content: {
              element: "div",
              attributes: {
                  innerHTML: `<div><strong>${title}</strong><br><br><div style="text-align: left;">${text}</div></div>`
              },
          },
      });
  }
  
  // Función para mostrar email usando SweetAlert
  function showEmail(mensaje1, remitente, asunto, destinatario, mensaje) {
      const animatedLetter = `<span class="animate__swing animate__animated animate__bounce animate-custom animate-letter animate__repeat-5">${mensaje1.charAt(0)}</span>${mensaje1.slice(1)}`;
      Swal.fire({
          title: ``,
          icon: '',
          html: `
              <p class="ABC"><strong>${animatedLetter}</strong></p>
              <p><strong>De:</strong> ${remitente}</p>
              <p><strong>Asunto:</strong> ${asunto}</p>
              <p>${destinatario}</p>
              <p>${mensaje}</p>`,
          showCloseButton: true,
          focusConfirm: false,
          confirmButtonText: 'Ok'
      });
  }
  
  var initialTime = 60 * 60; // 60 minutes in seconds
  var counter = localStorage.getItem('counter') ? parseInt(localStorage.getItem('counter')) : initialTime;
  var timerElement = document.getElementById("timer");
  var checked = false;
  
  var intervalId = setInterval(function() {
      if (checked) {
          clearInterval(intervalId);
          return;
      }
  
      var minutes = Math.floor(counter / 60);
      var seconds = counter % 60;
      var timeString = ("0" + minutes).slice(-2) + ":" + ("0" + seconds).slice(-2);
      timerElement.innerHTML = timeString;
      counter--;
  
      localStorage.setItem('counter', counter); // Guardar el tiempo restante en localStorage
  
      if (counter < 0) {
          clearInterval(intervalId);
          timerElement.innerHTML = "<p style='font-size:17px;font-family: Arial; color: red'>Tiempo agotado</p>";
          checkAnswers();
          localStorage.removeItem('counter'); // Eliminar el contador de localStorage
      }
  }, 1000);
  
  // Ejemplo de cómo se podría usar la variable checked
  function someEventTrigger() {
      checked = true;
      timerElement.innerHTML = "<p style='font-size:14px;'>Timer detenido</p>";
      localStorage.removeItem('counter'); // Eliminar el contador de localStorage si se detiene manualmente
  }
  
  function checkAnswers() {
    if (!checked) {
        var correctAnswers = ["b", "c", "a", "c", "c", "a"];
        var score = 0;

        for (var i = 1; i <= 8; i++) {
            var radios = document.getElementsByName("q" + i);

            if (radios.length > 0) {
                for (var j = 0; j < radios.length; j++) {
                    var radio = radios[j];
                    if (radio.checked) {
                        if (radio.value.toLowerCase() === correctAnswers[i - 1]) {
                            radio.parentNode.classList.add("correct1");
                            score++;
                        } else {
                            radio.parentNode.classList.add("incorrect1");
                        }
                    }
                    radio.disabled = true;
                }
            }
        }

        // Actualizar contenido del cuadro de puntuación
        var scoreText = document.getElementById("score");
        scoreText.innerHTML = `<span style="font-size:40px; color: blue;">${score}/6</span>`;


// Aplicar animación de actualización durante 5 segundos
var scoreBox = document.getElementById("box");
scoreBox.classList.add("score-updated");

// Remover la animación después de 5 segundos
setTimeout(() => {
    scoreBox.classList.remove("score-updated");
}, 5000);


        // Mostrar mensaje con SweetAlert
        if (score >= 6) {
            swal({
                title: "¡Excelente!",
                text: `Has obtenido ${score}/6 🎉`,
                icon: "success",
            });
        } else if (score >= 3) {
            swal({
                title: "¡Bien hecho!",
                text: `Has obtenido ${score}/6 😊`,
                icon: "success",
            });
        } else {
            swal({
                title: "¡Sigue intentando!",
                text: `Has obtenido ${score}/6 😢`,
                icon: "error",
            });
        }

        checked = true;
    }
}

  
  
      </script>
  </body>
  </html>

