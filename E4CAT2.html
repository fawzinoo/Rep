<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <title>Examen de Comprensión Auditiva</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont,   "Helvetica Neue", "Segoe UI", Roboto, sans-serif;
            margin: 0;
            font-size: 15px;
            
        }
        
         .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
        }

        /* Ejemplo de cabecera */
        header {
            background-color: lightgrey;
            color: black;
            padding: 10px 0;
            text-align: center;
            margin-bottom: 20px;
        }

       .new-box {
    display: flex;
    width: 100%;
    padding: 1px 0; /* Ajuste del padding superior e inferior */
    padding-left: 4px; /* Ajuste del padding a la izquierda */
    padding-right: 0px; /* Ajuste del padding a la derecha */
    background-color: lightblue;
    text-align: flex;
    margin-bottom: 10px;
}

 .table-container {
            width: 100%;
            overflow-x: auto;
            }
            
       table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
            }
      
        .question, table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        
        th {
            background-color: #f2f2f2;
        }
        .answers input, .answers select {
            margin-right: 3px;
        }
        
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
        
        .dotted-line {
            border: none;
            border-top: 1px dotted black;
            margin: 20px 0;
          
            }
            
          .player-container {
            background-color: lightgrey;
            color: black;
            padding: 10px 0;
            text-align: center;
            margin-bottom: 20px;
            /* Puedes ajustar el ancho si es necesario */
            width: 250px;
        }
        
            .play-button {
            padding: 10px 20px;
            background-color: #4CAF50; /* Color del botón */
            color: white;
            border: none;
            cursor: pointer;
        }
        .play-button:disabled {
            background-color: #999; /* Color del botón deshabilitado */
            cursor: not-allowed;
        }
        .warning-message {
            margin-top: 10px;
            color: red; /* Cambia este color por el que desees */
            font-weight: bold;
        }         
           
      
        /* Estilos para respuestas correctas e incorrectas */
        .correct {
            background-color: green;
        }

        .incorrect {
            background-color: red;
        }

 /* Estilos para respuestas correctas e incorrectas */
        .correct1 {
            color: green;
           
        }

        .incorrect1 {
            color: red;
            
        }


/* Estilos elegantes para el cuadro de puntuación */
#box {
    width: 200px;
    height: 100px;
    margin: 20px auto;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 30px;
    background: linear-gradient(135deg, #FFD700, #FFA500);
    border: 3px solid #d4af37;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    font-size: 22px;
    font-weight: bold;
    color: #6a0dad;
    padding: 10px 20px;
    text-align: center;
    transition: all 0.3s ease-in-out;
}

        @keyframes scoreUpdate {
    0%, 100% {
        transform: scale(1);
    }
    25% {
        transform: scale(1.1);
    }
    50% {
        transform: scale(1);
    }
    75% {
        transform: scale(1.1);
    }
}

/* Aplicar animación con repetición durante 5s */
.score-updated {
    animation: scoreUpdate 1s ease-in-out infinite; /* Se repite indefinidamente */
}



     /* Estilos para el botón de comprobación */
.check-button {
    background: linear-gradient(135deg, #6a0dad, #9400d3);
    color: white;
    font-size: 18px;
    font-weight: bold;
    border: none;
    padding: 12px 24px;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    outline: none;
}

.check-button:hover {
    background: linear-gradient(135deg, #9400d3, #6a0dad);
    transform: scale(1.05);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
}

.check-button:active {
    transform: scale(0.98);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}



        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

          
          
@keyframes bounceUpDown {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

 .question table {
        width: 100%;
        max-width: 100%;
        border-collapse: collapse;
        table-layout: fixed; /* Ensure the table cells don't shrink */
        margin: 0; /* Remove margin for full-width tables */
    }

    .question td {
        border: 1px solid black;
        text-align: center;
        vertical-align: middle;
        padding: 0;
    }

    .question img {
        width: 100%;
        height: auto;
        display: block;
        margin: 0;
    }
    @media (min-width: 500px) {
    .question table {
        max-width: 500px;
        margin-left: 0;
    }
}

        .question td {
            width: 33.33%; /* Ensure the table cells share the width equally */
        
        }


     /* Botón flotante en el lateral derecho solo en móviles */
#floating-button {
  position: fixed;
  bottom: 20px;
  right: 5px;
  background-color: #6a0dad;
  color: white;
  border: none;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 9999;
}

#floating-button i {
  font-size: 24px;
}

/* Solo visible en pantallas móviles */
@media (min-width: 769px) {
  #floating-button {
    display: none;
  }
}   
        .refresh-btn {
            position: fixed;
            bottom: 80px;
            right: 5px;
            padding: 5px;
            font-size: 24px;
            color: white;
            background-color: #e67e22;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            animation: spin 3s linear forwards;
            transition: background-color 0.3s ease;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            width: 50px;
            height: 50px;
        }
        .refresh-btn:hover {
            background-color: #d35400;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(1080deg); }
        }

 .back-button {
            position: fixed;
            bottom: 140px;
            right: 5px;
            padding: 5px;
            font-size: 24px;
            color: white;
            background-color: greenyellow;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            width: 50px;
            height: 50px;
        }

.back-button:hover {
    background: green;
    transform: scale(1.05);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
}

.back-button:active {
    transform: scale(0.98);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}
@keyframes pulse {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
    }
  }

 </style>
   
 </head>
 
<body>

<div class="container">
<center><div class="player-container">
        <audio id="audioPlayer" preload="none">
            <source src="https://fawzinoo.github.io/audios/E4CAT2.mp3" type="audio/mpeg">
            Tu navegador no soporta la reproducción de audio.
        </audio>
        <button id="playButton" class="play-button">Play</button>
        <div class="warning-message">El audio se reproducirá hasta el final sin posibilidad de pausa.</div>
    </div></center>
    <header>
    <h1>Tarea 2</h1>
</header>

<center><i class="fas fa-headphones" style="font-size: 24px; margin-right: 10px; vertical-align: middle; animation: bounce 2s infinite; color: #4CAF50;"></i></center>
<div class="new-box"><p><strong>INSTRUCCIONES:</strong><br>
Usted va a escuchar seis anuncios o fragmentos de un programa de radio y tiene que responder a seis preguntas. Cada audición se repite dos veces. Lea las preguntas (de la 7 a la 12) y seleccione la opción correcta (A, B o C).
</div>
<h3>A continuación va a oír un ejemplo:</h3>
<span class="cabeza"></span>
<div class="question">
    <div style="background-color: azure; padding: 10px; border-radius: 5px;">
<p><strong>0. </strong><u><strong> En el boletín informativo han hablado de...</strong></u></p>
<div class="answers">
    <label><input type="radio" name="q7" value="a" disabled> a) un partido de fútbol.</label><br>
    <label style="background-color: lightgray"><input type="radio" name="q7" value="b" checked disabled> b) un concurso de comida.</label><br>
    <label><input type="radio" name="q7" value="c" disabled> c) un curso de bailes.</label>
</div>



<p>La opción correcta es la <strong>B</strong> porque hay concurso de paella y pinchos, que son comidas.</p>

<p>0. A) <span style="display: inline-block; width: 12px; height: 12px; ; border: 1px solid black; vertical-align: middle;"></span> B) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;background-color: black"></span> C) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span></p>
</div>
<br>

<h4 style="color:grey;margin-bottom:0px">PREGUNTAS</h4>  
<hr style="color:grey;margin-top:0px"class="dotted-line"> 

<span class="cabeza"></span>
<div class="question">
            <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;">
            <h3 style="text-align: center; animation: pulse 1.5s infinite;"><i style="text-shadow: 2px 5px 3px grey;">Audio 1</i></h3>
            <strong style="color: #005bb5;">7.</strong> <u><strong style="color: #005bb5;">En el audio se informa de que...</strong></u><br><br>
            <div class="answers">
            <label><input type="radio" name="q1" value="a"> a) los colegios empiezan el curso este mes.</label><br>
            <label><input type="radio" name="q1" value="b"> b) se pueden matricular hasta el día tres.</label><br>
            <label><input type="radio" name="q1" value="c"> c) en secundaria ya han empezado las clases.</label>
            </div>
            </div>
            </div>
            <br>
            <div class="question">
            <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;">
            <h3 style="text-align: center; animation: pulse 1.5s infinite;"><i style="text-shadow: 2px 5px 3px grey;">Audio 2</i></h3>
            <strong style="color: #005bb5;">8.</strong> <u><strong style="color: #005bb5;">Este programa se hace...</strong></u><br><br>
            <div class="answers">
            <label><input type="radio" name="q2" value="a"> a) todos los días.</label><br>
            <label><input type="radio" name="q2" value="b"> b) dos veces por semana.</label><br>
            <label><input type="radio" name="q2" value="c"> c) los martes.</label>
            </div>
            </div>
            </div>
            <br>
            <span class="cabeza"></span>
            <div class="question">
            <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;">
            <h3 style="text-align: center; animation: pulse 1.5s infinite;"><i style="text-shadow: 2px 5px 3px grey;">Audio 3</i></h3>
            <strong style="color: #005bb5;">9.</strong> <u><strong style="color: #005bb5;">El concierto va a ser...</strong></u><br><br>
            <div class="answers">
            <label><input type="radio" name="q3" value="a"> a) en un teatro de la ciudad.</label><br>
            <label><input type="radio" name="q3" value="b"> b) al lado del Estadio Nacional.</label><br>
            <label><input type="radio" name="q3" value="c"> c) en un estadio de fútbol.</label>
            </div>
            </div>
            </div>
            <br>
            <div class="question">
            <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;">
            <h3 style="text-align: center; animation: pulse 1.5s infinite;"><i style="text-shadow: 2px 5px 3px grey;">Audio 4</i></h3>
            <strong style="color: #005bb5;">10.</strong> <u><strong style="color: #005bb5;">La casa rural está...</strong></u><br><br>
            <div class="answers">
            <label><input type="radio" name="q4" value="a"> a) en los Pirineos.</label><br>
            <label><input type="radio" name="q4" value="b"> b) cerca de la playa.</label><br>
            <label><input type="radio" name="q4" value="c"> c) lejos del bosque.</label>
            </div>
            </div>
            </div>
            <br>
            <span class="cabeza"></span>
            <div class="question">
            <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;">
            <h3 style="text-align: center; animation: pulse 1.5s infinite;"><i style="text-shadow: 2px 5px 3px grey;">Audio 5</i></h3>
            <strong style="color: #005bb5;">11.</strong> <u><strong style="color: #005bb5;">El equipo femenino de baloncesto...</strong></u><br><br>
            <div class="answers">
            <label><input type="radio" name="q5" value="a"> a) juega contra el equipo de Burdeos.</label><br>
            <label><input type="radio" name="q5" value="b"> b) ha viajado a Alemania.</label><br>
            <label><input type="radio" name="q5" value="c"> c) va a jugar un campeonato europeo.</label>
            </div>
            </div>
            </div>
            <br>

            <div class="question">
            <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;">
            <h3 style="text-align: center; animation: pulse 1.5s infinite;"><i style="text-shadow: 2px 5px 3px grey;">Audio 6</i></h3>
            <strong style="color: #005bb5;">12.</strong> <u><strong style="color: #005bb5;">Según este anuncio, la tienda...</strong></u><br><br>
            <div class="answers">
            <label><input type="radio" name="q6" value="a"> a) va a cerrar.</label><br>
            <label><input type="radio" name="q6" value="b"> b) está a las afueras.</label><br>
            <label><input type="radio" name="q6" value="c"> c) vende ropa de niño.</label>
            </div>
            </div>
            </div>
            <br>
               
    
    


<br>
<button id="floating-button" onclick="toggleScroll()">
    <i class="fas fa-arrow-down"></i>
  </button>
    <button class="refresh-btn" onclick="location.reload()">
    <i class="fas fa-sync-alt"></i>
 </button>
    
     <button class="back-button" onclick="goBack()">
    <i class="fas fa-arrow-left"></i>
</button>
  
<center><i class="fas fa-hand-point-down" style="font-size: 24px; animation: bounceUpDown 2s infinite; color: red;"></i></center>
 <div style='text-align: center'>
            <button class="check-button" onclick="checkAnswers();">Comprobar respuestas</button>
<div id="box">
            <p id="score"></p>
        </div>
    </div>
            <br>
        </div>
        
        <script>

            function goBack() {
    window.history.back();
}
    
let currentTextIndex = 0; // Índice del texto actual
const texts = document.querySelectorAll('.cabeza'); // Selecciona todos los textos
const floatingButton = document.getElementById('floating-button');

function toggleScroll() {
  // Si estamos en el último texto, volvemos al primero
  if (currentTextIndex === texts.length - 1) {
    window.scrollTo({
      top: texts[0].offsetTop,
      behavior: 'smooth'
    });
    currentTextIndex = 0; // Reiniciamos el índice
    floatingButton.innerHTML = '<i class="fas fa-arrow-down"></i>'; // Cambiamos la flecha a "bajar"
  } else {
    // Avanzamos al siguiente texto
    currentTextIndex++;
    window.scrollTo({
      top: texts[currentTextIndex].offsetTop,
      behavior: 'smooth'
    });

    // Si llegamos al último texto, cambiamos la flecha a "subir"
    if (currentTextIndex === texts.length - 1) {
      floatingButton.innerHTML = '<i class="fas fa-arrow-up"></i>';
    }
  }
}

// Detectar la posición del scroll para actualizar la flecha automáticamente
window.addEventListener('scroll', () => {
  const scrollPosition = window.scrollY;

  // Verificar en qué texto está el usuario
  texts.forEach((text, index) => {
    const textTop = text.offsetTop;
    const textBottom = textTop + text.clientHeight;

    if (scrollPosition >= textTop && scrollPosition < textBottom) {
      currentTextIndex = index; // Actualizar el índice del texto actual

      // Cambiar la flecha automáticamente si estamos en el último texto
      if (index === texts.length - 1) {
        floatingButton.innerHTML = '<i class="fas fa-arrow-up"></i>';
      } else {
        floatingButton.innerHTML = '<i class="fas fa-arrow-down"></i>';
      }
    }
  });
});



          var checked = false;
  
          document.addEventListener("DOMContentLoaded", function () {
        const options = document.querySelectorAll("input[type='radio']");
        const audio = new Audio("https://assets.mixkit.co/active_storage/sfx/3005/3005-preview.mp3");
        const successAudio = new Audio("https://cdn.hailuoai.video/moss/prod/2025-02-22-09/moss-audio/user_audio//1740188338866710066-240170101170423.mp3");
        const moderateAudio = new Audio("https://cdn.hailuoai.video/moss/prod/2025-02-22-09/moss-audio/user_audio//1740188451835233162-240171095347485.mp3");
        const failAudio = new Audio("https://cdn.hailuoai.video/moss/prod/2025-02-22-09/moss-audio/user_audio//1740188277275915446-240169891483958.mp3");

        options.forEach(option => {
            option.addEventListener("change", function () {
                // Reproducir sonido
                audio.currentTime = 0;
                audio.play().catch(error => console.error("Error reproduciendo audio", error));
                
                // Quitar sombra de otras opciones del mismo grupo
                const groupName = this.name;
                document.querySelectorAll(`input[name='${groupName}']`).forEach(input => {
                    input.parentNode.style.boxShadow = "none";
                    input.parentNode.style.backgroundColor = "transparent";
                });
                
                // Agregar sombra gris a la opción seleccionada
                this.parentNode.style.boxShadow = "0px 4px 8px rgba(0, 0, 0, 0.2)";
                this.parentNode.style.backgroundColor = "#f0f0f0";
            });
        });

        window.checkAnswers = function () {
            if (!window.checked) {
                var correctAnswers = ["c", "b", "b", "b", "c", "b"];
                var score = 0;

                for (var i = 1; i <= 6; i++) {
                    var radios = document.getElementsByName("q" + i);

                    if (radios.length > 0) {
                        for (var j = 0; j < radios.length; j++) {
                            var radio = radios[j];
                            if (radio.checked) {
                                if (radio.value.toLowerCase() === correctAnswers[i - 1]) {
                                    radio.parentNode.classList.add("correct1");
                                    score++;
                                } else {
                                    radio.parentNode.classList.add("incorrect1");
                                }
                            }
                            radio.disabled = true;
                        }
                    }
                }

                var scoreText = document.getElementById("score");
                scoreText.innerHTML = `<span style="font-size:40px; color: blue;">${score}/6</span>`;

                var scoreBox = document.getElementById("box");
                scoreBox.classList.add("score-updated");
                setTimeout(() => {
                    scoreBox.classList.remove("score-updated");
                }, 5000);

                let audioToPlay;
                let swalOptions;

                if (score >= 6) {
                    audioToPlay = successAudio;
                    swalOptions = {
                        title: "¡Excelente!",
                        text: `Has obtenido ${score}/6 🎉`,
                        icon: "success",
                        willClose: () => { audioToPlay.pause(); audioToPlay.currentTime = 0; }
                    };
                } else if (score >= 3) {
                    audioToPlay = moderateAudio;
                    swalOptions = {
                        title: "¡Bien hecho!",
                        text: `Has obtenido ${score}/6 😊`,
                        icon: "success",
                        willClose: () => { audioToPlay.pause(); audioToPlay.currentTime = 0; }
                    };
                } else {
                    audioToPlay = failAudio;
                    swalOptions = {
                        title: "¡Sigue intentando!",
                        text: `Has obtenido ${score}/6 😢`,
                        icon: "error",
                        willClose: () => { audioToPlay.pause(); audioToPlay.currentTime = 0; }
                    };
                }

                audioToPlay.currentTime = 0;
                audioToPlay.play().catch(error => console.error("Error reproduciendo audio", error));
                Swal.fire(swalOptions);

                window.checked = true;
            }
        };
    });

    document.addEventListener('DOMContentLoaded', function() {
            const playButton = document.getElementById('playButton');
            const audioPlayer = document.getElementById('audioPlayer');

            playButton.addEventListener('click', function() {
                audioPlayer.play();
                playButton.textContent = "En escucha";
                playButton.disabled = true;
            });

            audioPlayer.addEventListener('ended', function() {
                playButton.textContent = "Play";
                playButton.disabled = false;
            });
        });

  </script>
  </body>
  </html>
