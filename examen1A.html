<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <title>Examen de Comprensión Auditiva</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont,   "Helvetica Neue", "Segoe UI", Roboto, sans-serif;
            margin: 0;
            font-size: 15px;
            
        }
        
         .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
        }

        /* Ejemplo de cabecera */
        header {
            background-color: lightgrey;
            color: black;
            padding: 10px 0;
            text-align: center;
            margin-bottom: 20px;
        }

       .new-box {
    display: flex;
    width: 100%;
    padding: 1px 0; /* Ajuste del padding superior e inferior */
    padding-left: 4px; /* Ajuste del padding a la izquierda */
    padding-right: 0px; /* Ajuste del padding a la derecha */
    background-color: lightblue;
    text-align: flex;
    margin-bottom: 10px;
}

 .table-container {
            width: 100%;
            overflow-x: auto;
            }
            
       table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
            }
      
        .question, table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        
        th {
            background-color: #f2f2f2;
        }
        .answers input, .answers select {
            margin-right: 3px;
        }
        
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
        
        .dotted-line {
            border: none;
            border-top: 1px dotted black;
            margin: 20px 0;
          
            }
            
          .player-container {
            background-color: lightgrey;
            color: black;
            padding: 10px 0;
            text-align: center;
            margin-bottom: 20px;
            /* Puedes ajustar el ancho si es necesario */
            width: 250px;
        }
        
            .play-button {
            padding: 10px 20px;
            background-color: #4CAF50; /* Color del botón */
            color: white;
            border: none;
            cursor: pointer;
        }
        .play-button:disabled {
            background-color: #999; /* Color del botón deshabilitado */
            cursor: not-allowed;
        }
        .warning-message {
            margin-top: 10px;
            color: red; /* Cambia este color por el que desees */
            font-weight: bold;
        }         
           
      
        /* Estilos para respuestas correctas e incorrectas */
        .correct {
            background-color: green;
        }

        .incorrect {
            background-color: red;
        }

 /* Estilos para respuestas correctas e incorrectas */
        .correct1 {
            color: green;
           
        }

        .incorrect1 {
            color: red;
            
        }


/* Estilos elegantes para el cuadro de puntuación */
#box {
    width: 200px;
    height: 100px;
    margin: 20px auto;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 30px;
    background: linear-gradient(135deg, #FFD700, #FFA500);
    border: 3px solid #d4af37;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    font-size: 22px;
    font-weight: bold;
    color: #6a0dad;
    padding: 10px 20px;
    text-align: center;
    transition: all 0.3s ease-in-out;
}

        @keyframes scoreUpdate {
    0%, 100% {
        transform: scale(1);
    }
    25% {
        transform: scale(1.1);
    }
    50% {
        transform: scale(1);
    }
    75% {
        transform: scale(1.1);
    }
}

/* Aplicar animación con repetición durante 5s */
.score-updated {
    animation: scoreUpdate 1s ease-in-out infinite; /* Se repite indefinidamente */
}



     /* Estilos para el botón de comprobación */
.check-button {
    background: linear-gradient(135deg, #6a0dad, #9400d3);
    color: white;
    font-size: 18px;
    font-weight: bold;
    border: none;
    padding: 12px 24px;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    outline: none;
}

.check-button:hover {
    background: linear-gradient(135deg, #9400d3, #6a0dad);
    transform: scale(1.05);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
}

.check-button:active {
    transform: scale(0.98);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}



        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

          
          
@keyframes bounceUpDown {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

 .question table {
        width: 100%;
        max-width: 100%;
        border-collapse: collapse;
        table-layout: fixed; /* Ensure the table cells don't shrink */
        margin: 0; /* Remove margin for full-width tables */
    }

    .question td {
        border: 1px solid black;
        text-align: center;
        vertical-align: middle;
        padding: 0;
    }

    .question img {
        width: 100%;
        height: auto;
        display: block;
        margin: 0;
    }
    @media (min-width: 500px) {
    .question table {
        max-width: 500px;
        margin-left: 0;
    }
}

        .question td {
            width: 33.33%; /* Ensure the table cells share the width equally */
        
        }


     /* Botón flotante en el lateral derecho solo en móviles */
#floating-button {
  position: fixed;
  bottom: 20px;
  right: 5px;
  background-color: #6a0dad;
  color: white;
  border: none;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 9999;
}

#floating-button i {
  font-size: 24px;
}

/* Solo visible en pantallas móviles */
@media (min-width: 769px) {
  #floating-button {
    display: none;
  }
}   
        .refresh-btn {
            position: fixed;
            bottom: 80px;
            right: 5px;
            padding: 5px;
            font-size: 24px;
            color: white;
            background-color: #e67e22;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            animation: spin 3s linear forwards;
            transition: background-color 0.3s ease;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            width: 50px;
            height: 50px;
        }
        .refresh-btn:hover {
            background-color: #d35400;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(1080deg); }
        }

 .back-button {
            position: fixed;
            bottom: 140px;
            right: 5px;
            padding: 5px;
            font-size: 24px;
            color: white;
            background-color: greenyellow;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            width: 50px;
            height: 50px;
        }

.back-button:hover {
    background: green;
    transform: scale(1.05);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
}

.back-button:active {
    transform: scale(0.98);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}
@keyframes pulse {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
    }
  }

 </style>
    <script type="text/javascript">
        (function() {
            emailjs.init("Mrc5n_wJUWdf3Py4v"); // Inicializa EmailJS con tu User ID
        })();
    </script>
 </head>
 
<body>

<div class="container">
<center><div class="player-container">
        <audio id="audioPlayer" preload="none">
            <source src="https://media.vocaroo.com/mp3/15GAaCNIBDFB" type="audio/mpeg">
            Tu navegador no soporta la reproducción de audio.
        </audio>
        <button id="playButton" class="play-button">Play</button>
        <div class="warning-message">El audio se reproducirá hasta el final sin posibilidad de pausa.</div>
    </div></center>

    <header>
        <h1>Tarea 1</h1>
    </header>

    <center><i class="fas fa-headphones" style="font-size: 24px; margin-right: 10px; vertical-align: middle; animation: bounce 2s infinite; color: #4CAF50;"></i></center>
    <div class="new-box">
        <p><strong>INSTRUCCIONES:</strong><br>
            Usted va a escuchar seis conversaciones. Escuchará cada conversación dos veces. Después, tiene que contestar a las preguntas (1-6). Seleccione la opción correcta (A, B o C).
        </p>
    </div>

    <h3>A continuación va a oír un ejemplo:</h3>
    <div style="background-color: azure; padding: 10px; border-radius: 5px;">  
    <div class="question">
      
        <strong style="color: #005bb5;">0.</strong> <u><strong style="color: #005bb5;">¿Qué compra el hombre?</strong></u><br><br>
        <table>
            <tr>
                <td colspan="3">
                    <img id="img2" class="hidden" src="https://i.ibb.co/XDYSj5C/Captura-de-pantalla-2024-07-15-a-las-11-ir-Sw2-please-credit-palette-fm.jpg" alt="Imagen completa">
                </td>
            </tr>
            <tr>
                <td>
                    <label><input type="radio" name="q0" value="a" disabled>A</label>
                </td>
                <td>
                    <label><input type="radio" name="q0" value="b" disabled>B</label>
                </td>
                <td>
                    <div style="background-color: lightgray"><input type="radio" name="q0" value="c" checked disabled>C</div>
                </td>
            </tr>
        </table>
    </div>
    <p>La opción correcta es la <strong>C</strong>. El hombre se lleva un móvil con una cámara mejor.</p>

    <p>0. A) <span style="display: inline-block; width: 12px; height: 12px; ; border: 1px solid black; vertical-align: middle;"></span> B) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span> C) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;background-color: black"></span></p>
    </div>
    <br>
    <span class="cabeza"></span>
    <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;">  
    <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Conversación 1</i></h3>

    <div class="question">
        <strong style="color: #005bb5;">1.</strong> <u><strong style="color: #005bb5;">¿Cómo es la hermana de la mujer?</strong></u><br><br>
        <table>
            <tr>
                <td colspan="3">
                    <img id="img2" class="hidden" src="https://i.ibb.co/ph41T7c/Captura-de-pantalla-2024-07-15-a-las-20-u9-OB7-please-credit-palette-fm.jpg" alt="Imagen completa">
                </td>
            </tr>
            <tr>
                <td>
                    <label><input type="radio" name="q1" value="a">A</label>
                </td>
                <td>
                    <label><input type="radio" name="q1" value="b">B</label>
                </td>
                <td>
                    <label><input type="radio" name="q1" value="c">C</label>
                </td>
            </tr>
        </table>
    </div>
    </div>
    <br>
    <span class="cabeza"></span>
    <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
        <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Conversación 2</i></h3>

    <div class="question">
        <strong style="color: #005bb5;">2.</strong> <u><strong style="color: #005bb5;">¿Qué se prueba la mujer?</strong></u><br><br>
        <table>
            <tr>
                <td colspan="3">
                    <img id="img2" class="hidden" src="https://i.ibb.co/k5rbN73/Captura-de-pantalla-2024-07-15-a-las-20-02cos-please-credit-palette-fm.jpg" alt="Imagen completa">
                </td>
            </tr>
            <tr>
                <td>
                    <label><input type="radio" name="q2" value="a">A</label>
                </td>
                <td>
                    <label><input type="radio" name="q2" value="b">B</label>
                </td>
                <td>
                    <label><input type="radio" name="q2" value="c">C</label>
                </td>
            </tr>
        </table>
    </div>
    </div>
    <br>
    <span class="cabeza"></span>
    <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
        <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Conversación 3</i></h3>

    <div class="question">
        <strong style="color: #005bb5;">3.</strong> <u><strong style="color: #005bb5;">¿Dónde va a desayunar el hombre?</strong></u><br><br>   
        <table>
            <tr>
                <td colspan="3">
                    <img id="img2" class="hidden" src="https://i.ibb.co/Gk7GDTz/Captura-de-pantalla-2024-07-15-a-las-20-G5-KEg-please-credit-palette-fm.jpg" alt="Imagen completa">
                </td>
            </tr>
            <tr>
                <td>
                    <label><input type="radio" name="q3" value="a">A</label>
                </td>
                <td>
                    <label><input type="radio" name="q3" value="b">B</label>
                </td>
                <td>
                    <label><input type="radio" name="q3" value="c">C</label>
                </td>
            </tr>
        </table>
    </div>
    </div>
    <br>
    <span class="cabeza"></span>
    <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
        <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Conversación 4</i></h3>

    <div class="question">
        <strong style="color: #005bb5;">4.</strong> <u><strong style="color: #005bb5;">¿Qué le lleva el camarero?</strong></u><br><br> 
        <table>
            <tr>
                <td colspan="3">
                    <img id="img2" class="hidden" src="https://i.ibb.co/591SzGZ/Captura-de-pantalla-2024-07-15-a-las-20-PODQx-please-credit-palette-fm.jpg" alt="Imagen completa">
                </td>
            </tr>
            <tr>
                <td>
                    <label><input type="radio" name="q4" value="a">A</label>
                </td>
                <td>
                    <label><input type="radio" name="q4" value="b">B</label>
                </td>
                <td>
                    <label><input type="radio" name="q4" value="c">C</label>
                </td>
            </tr>
        </table>
    </div>
    </div>
    <br>
    <span class="cabeza"></span>
    <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
        <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Conversación 5</i></h3>

    <div class="question">
        <strong style="color: #005bb5;">5.</strong> <u><strong style="color: #005bb5;">¿Qué está buscando el hombre?</strong></u><br><br> 
        <table>
            <tr>
                <td colspan="3">
                    <img id="img2" class="hidden" src="https://i.ibb.co/G9RCSYL/Captura-de-pantalla-2024-07-15-a-las-20-zn-Cfl-please-credit-palette-fm.jpg" alt="Imagen completa">
                </td>
            </tr>
            <tr>
                <td>
                    <label><input type="radio" name="q5" value="a">A</label>
                </td>
                <td>
                    <label><input type="radio" name="q5" value="b">B</label>
                </td>
                <td>
                    <label><input type="radio" name="q5" value="c">C</label>
                </td>
            </tr>
        </table>
    </div>
    </div>
    <br>
    <span class="cabeza"></span>
    <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
        <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Conversación 6</i></h3>

    <div class="question">
        <strong style="color: #005bb5;">6.</strong> <u><strong style="color: #005bb5;">¿Dónde quiere pasar las vacaciones la mujer?</strong></u><br><br> 
        <table>
            <tr>
                <td colspan="3">
                    <img id="img2" class="hidden" src="https://i.ibb.co/JzN9R09/Captura-de-pantalla-2024-07-15-a-las-20-Eirv-X-please-credit-palette-fm.jpg" alt="Imagen completa">
                </td>
            </tr>
            <tr>
                <td>
                    <label><input type="radio" name="q6" value="a">A</label>
                </td>
                <td>
                    <label><input type="radio" name="q6" value="b">B</label>
                </td>
                <td>
                    <label><input type="radio" name="q6" value="c">C</label>
                </td>
            </tr>
        </table>
    </div>
    </div>
    <br>
    <span class="cabeza"></span>
    <header>
        <h1>Tarea 2</h1>
    </header>

    <center><i class="fas fa-headphones" style="font-size: 24px; margin-right: 10px; vertical-align: middle; animation: bounce 2s infinite; color: #4CAF50;"></i></center>
    <div class="new-box">
        <p><strong>INSTRUCCIONES:</strong><br>
            Usted va a escuchar seis anuncios o fragmentos de un programa de radio y tiene que responder a seis preguntas. Cada audición se repite dos veces. Lea las preguntas (de la 7 a la 12) y seleccione la opción correcta (A, B o C).
        </p>
    </div>
    <h3>A continuación va a oír un ejemplo:</h3>
    <div style="background-color: azure; padding: 10px; border-radius: 5px;"> 
    <div class="question">
       
        <strong style="color: #005bb5;">0.</strong> <u><strong style="color: #005bb5;">En el boletín informativo han hablado de...</strong></u><br><br> 
        <div class="answers">
            <label><input type="radio" name="q0" value="a" disabled> a) un partido de fútbol.</label><br>
            <label style="background-color: lightgray"><input type="radio" name="q0" value="b" checked disabled> b) un concurso de comida.</label><br>
            <label><input type="radio" name="q0" value="c" disabled> c) un curso de bailes.</label>
        </div>
    </div>

    <p>La opción correcta es la <strong>B</strong> porque hay concurso de paella y pinchos, que son comidas.</p>

    <p>0. A) <span style="display: inline-block; width: 12px; height: 12px; ; border: 1px solid black; vertical-align: middle;"></span> B) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;background-color: black"></span> C) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span></p>
    </div>
    <br>

    <h4 style="color:grey;margin-bottom:0px">PREGUNTAS</h4>  
    <hr style="color:grey;margin-top:0px"class="dotted-line"> 
    <span class="cabeza"></span>
 <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Audio 1</i></h3>     
    <div class="question">

        <strong style="color: #005bb5;">7.</strong> <u><strong style="color: #005bb5;">Según el audio, hay precios más baratos...</strong></u><br><br>  
        <div class="answers">
            <label><input type="radio" name="q7" value="a"> a) para la carne y frutas.</label><br>
            <label><input type="radio" name="q7" value="b"> b) durante todo el verano.</label><br>
            <label><input type="radio" name="q7" value="c"> c) en la pescadería.</label>
        </div>
    </div>
 </div>
 <br>
 <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Audio 2</i></h3>   
    <div class="question">

        <strong style="color: #005bb5;">8.</strong> <u><strong style="color: #005bb5;">En el programa se va a hablar...</strong></u><br><br>  
        <div class="answers">
            <label><input type="radio" name="q8" value="a"> a) del calor del verano.</label><br>
            <label><input type="radio" name="q8" value="b"> b) de las cremas más usadas.</label><br>
            <label><input type="radio" name="q8" value="c"> c) sobre los cuidados para tomar el sol.</label>
        </div>
    </div>
 </div>
 <br>
 <span class="cabeza"></span>
 <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Audio 3</i></h3>   
    <div class="question">
    
        <strong style="color: #005bb5;">9.</strong> <u><strong style="color: #005bb5;">Cada día se puede escuchar música,...</strong></u><br><br>  
        <div class="answers">
            <label><input type="radio" name="q9" value="a"> a) de un país diferente,.</label><br>
            <label><input type="radio" name="q9" value="b"> b) en una playa distinta.</label><br>
            <label><input type="radio" name="q9" value="c"> c) de grupos celtas.</label>
        </div>
    </div>
 </div>
 <br>
 <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Audio 4</i></h3>    
    <div class="question">

        <strong style="color: #005bb5;">10.</strong> <u><strong style="color: #005bb5;">Según el anuncio, para este trabajo, hay que...</strong></u><br><br>   
        <div class="answers">
            <label><input type="radio" name="q10" value="a"> a) enviar el CV por Internet.</label><br>
            <label><input type="radio" name="q10" value="b"> b) aprobar un examen.</label><br>
            <label><input type="radio" name="q10" value="c"> c) vivir en la misma ciudad.</label>
        </div>
    </div>
 </div>
 <br>
 <span class="cabeza"></span>
 <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Audio 5</i></h3>   
    <div class="question">

        <strong style="color: #005bb5;">11.</strong> <u><strong style="color: #005bb5;"> La oficina de la calle Huertas cierra...</strong></u><br><br>   
        <div class="answers">
            <label><input type="radio" name="q11" value="a"> a) a partir de mañana.</label><br>
            <label><input type="radio" name="q11" value="b"> b) durante varios días.</label><br>
            <label><input type="radio" name="q11" value="c"> c) Los miércoles por la tarde.</label>
        </div>
    </div>
 </div>
 <br>
 <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <h3 style="text-align: center;" ><i style="text-shadow: 2px 5px 3px grey;animation: pulse 1.5s infinite ease-in-out; display: inline-block">Audio 6</i></h3>   
    <div class="question">

        <strong style="color: #005bb5;">12.</strong> <u><strong style="color: #005bb5;"> El programa de radio Ecos...</strong></u><br><br>  
        <div class="answers">
            <label><input type="radio" name="q12" value="a"> a) se hace un día a la semana.</label><br>
            <label><input type="radio" name="q12" value="b"> b) habla de la vida en África.</label><br>
            <label><input type="radio" name="q12" value="c"> c) es desde Marruecos.</label>
        </div>
    </div>
 </div>
    <br>
    <br>  
    <span class="cabeza"></span>  
    <header>
        <h1>Tarea 3</h1>
    </header>

    <center><i class="fas fa-headphones" style="font-size: 24px; margin-right: 10px; vertical-align: middle; animation: bounce 2s infinite; color: #4CAF50;"></i></center>
    <div class="new-box">
        <p><strong>INSTRUCCIONES:</strong><br>
            Usted va a escuchar una conversación entre dos amigos, Sabela y Adrià. Indique si los enunciados (13-18) se refieren a Sabela (A), a Adrià (B) o a ninguno de los dos (C). Escuchará la conversación dos veces.
        </p>
    </div>

    <p>Tiene 30 segundos para leer los enunciados.</p>
    <span class="cabeza"></span>
    <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <div class="question">

        <strong style="color: #005bb5;">0.</strong> <u><strong style="color: #005bb5;"> Toma el café sin leche.</strong></u><br><br>  
        <div class="answers">
            <label><input type="radio" name="q0" value="a" disabled> a) Sabela.</label><br>
            <label style="background-color: lightgrey;"><input type="radio" name="q0" value="b" checked disabled> b) Adrià.</label><br>
            <label><input type="radio" name="q0" value="c" disabled> c) ninguno de los dos.</label>
        </div>
    </div>
    </div>
    <br>
<div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <div class="question">
 
        <strong style="color: #005bb5;">13.</strong> <u><strong style="color: #005bb5;"> Se acostó tarde.</strong></u><br><br> 
        <div class="answers">
            <label><input type="radio" name="q13" value="a"> a) Sabela.</label><br>
            <label><input type="radio" name="q13" value="b"> b) Adrià.</label><br>
            <label><input type="radio" name="q13" value="c"> c) ninguno de los dos.</label>
        </div>
    </div>
</div>
<br>
<span class="cabeza"></span>
<div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <div class="question">
  
        <strong style="color: #005bb5;">14.</strong> <u><strong style="color: #005bb5;"> Hace deporte en el gimnasio.</strong></u><br><br> 
        <div class="answers">
            <label><input type="radio" name="q14" value="a"> a) Sabela.</label><br>
            <label><input type="radio" name="q14" value="b"> b) Adrià.</label><br>
            <label><input type="radio" name="q14" value="c"> c) ninguno de los dos.</label>
        </div>
    </div>
</div>
<br>
<div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <div class="question">
     
        <strong style="color: #005bb5;">15.</strong> <u><strong style="color: #005bb5;"> Va en coche al trabajo.</strong></u><br><br> 
        <div class="answers">
            <label><input type="radio" name="q15" value="a"> a) Sabela.</label><br>
            <label><input type="radio" name="q15" value="b"> b) Adrià.</label><br>
            <label><input type="radio" name="q15" value="c"> c) ninguno de los dos.</label>
        </div>
    </div>
</div>
<br>
<span class="cabeza"></span>
<div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <div class="question">
        <strong style="color: #005bb5;">16.</strong> <u><strong style="color: #005bb5;"> Se va a vivir a las afueras.</strong></u><br><br> 
        <div class="answers">
            <label><input type="radio" name="q16" value="a"> a) Sabela.</label><br>
            <label><input type="radio" name="q16" value="b"> b) Adrià.</label><br>
            <label><input type="radio" name="q16" value="c"> c) ninguno de los dos.</label>
        </div>
    </div>
</div>
<br>
<span class="cabeza"></span>
<div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <div class="question">
        <strong style="color: #005bb5;">17.</strong> <u><strong style="color: #005bb5;"> Se va a vivir a las afueras.</strong></u><br><br> 
        <div class="answers">
            <label><input type="radio" name="q17" value="a"> a) Sabela.</label><br>
            <label><input type="radio" name="q17" value="b"> b) Adrià.</label><br>
            <label><input type="radio" name="q17" value="c"> c) ninguno de los dos.</label>
        </div>
    </div>
</div>
<br>
<div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <div class="question">
        <strong style="color: #005bb5;">18.</strong> <u><strong style="color: #005bb5;"> Paga los cafés.</strong></u><br><br> 
        <div class="answers">
            <label><input type="radio" name="q18" value="a"> a) Sabela.</label><br>
            <label><input type="radio" name="q18" value="b"> b) Adrià.</label><br>
            <label><input type="radio" name="q18" value="c"> c) ninguno de los dos.</label>
        </div>
    </div>
</div>

    <br>
    <span class="cabeza"></span>
    <header>
        <h1>Tarea 4</h1>
    </header>

    <center><i class="fas fa-headphones" style="font-size: 24px; margin-right: 10px; vertical-align: middle; animation: bounce 2s infinite; color: #4CAF50;"></i></center>
    <div class="new-box">
        <p><strong>INSTRUCCIONES:</strong><br>
            Usted va a escuchar ocho mensajes, incluido el ejemplo. Cada mensaje se repite dos veces. Seleccione el enunciado (de la A a la K) que corresponde a cada mensaje (del 19 al 25). Hay once enunciados, incluido el ejemplo. Seleccione siete.
        </p>
    </div>
    <div style="background-color: azure; padding: 10px; border-radius: 5px;"> 
    <p>Ahora escuche el ejemplo:</p>
    <p><strong>Mensaje 0 (Ejemplo)</strong></p>
    <p>La opción correcta es el enunciado <strong>F</strong> porque hay una habitación libre en el hotel.</p>

    <p>0. A) <span style="display: inline-block; width: 12px; height: 12px; ; border: 1px solid black; vertical-align: middle;"></span> B) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span> C) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span> D) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span> E) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span> F) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;background-color: black"></span> G) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span> H) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span> I) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span> J) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span> K) <span style="display: inline-block; width: 12px; height: 12px; border: 1px solid black; vertical-align: middle;"></span></p>

    <p>Tiene 45 segundos para leer los enunciados.</p>
    </div>
    <br>
    <span class="cabeza"></span>
    <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
        <h4 style="text-shadow: 2px 5px 7px red, -2px -5px 7px yellow; animation: pulse 1.5s infinite; text-align: center;"><strong>19. </strong><strong>MENSAJE 1</strong></h4>  

    <div class="answers">
        <label><input type="radio" name="q19" value="A"> A. Mañana no abre.</label><br>
        <label><input type="radio" name="q19" value="B"> B. Han quedado para cenar.</label><br>
        <label><input type="radio" name="q19" value="C"> C. Hoy no pueden usar algo.</label><br>
        <label><input type="radio" name="q19" value="D"> D. Mañana tiene otro horario.</label><br>
        <label><input type="radio" name="q19" value="E"> E. Cortan el pelo gratis.</label><br>
        <label class="fixed-background" style="background-color: lightgrey;"><input type="radio" name="q7" value="F" disabled> F. Finalmente tiene alojamiento en ese lugar.</label><br>
        <label><input type="radio" name="q19" value="G"> G. Pide un favor.</label><br>
        <label><input type="radio" name="q19" value="H"> H. Dan un regalo.</label><br>
        <label><input type="radio" name="q19" value="I"> I. Se va a celebrar otro día.</label><br>
        <label><input type="radio" name="q19" value="J"> J. Regalan entradas para el cine.</label><br>
        <label><input type="radio" name="q19" value="K"> K. No se sabe a qué hora empieza.</label>
    </div>
    </div>
    <br>
    <span class="cabeza"></span>
    <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
        <h4 style="text-shadow: 2px 5px 7px red, -2px -5px 7px yellow; animation: pulse 1.5s infinite; text-align: center;"><strong>20. </strong><strong>MENSAJE 2</strong></h4>  

    <div class="answers">
        <label><input type="radio" name="q20" value="A"> A. Mañana no abre.</label><br>
        <label><input type="radio" name="q20" value="B"> B. Han quedado para cenar.</label><br>
        <label><input type="radio" name="q20" value="C"> C. Hoy no pueden usar algo.</label><br>
        <label><input type="radio" name="q20" value="D"> D. Mañana tiene otro horario.</label><br>
        <label><input type="radio" name="q20" value="E"> E. Cortan el pelo gratis.</label><br>
        <label class="fixed-background" style="background-color: lightgrey;"><input type="radio" name="q7" value="F" disabled> F. Finalmente tiene alojamiento en ese lugar.</label><br>
        <label><input type="radio" name="q20" value="G"> G. Pide un favor.</label><br>
        <label><input type="radio" name="q20" value="H"> H. Dan un regalo.</label><br>
        <label><input type="radio" name="q20" value="I"> I. Se va a celebrar otro día.</label><br>
        <label><input type="radio" name="q20" value="J"> J. Regalan entradas para el cine.</label><br>
        <label><input type="radio" name="q20" value="K"> K. No se sabe a qué hora empieza.</label>
    </div>
    </div>
 <br>
 <span class="cabeza"></span>
 <div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <h4 style="text-shadow: 2px 5px 7px red, -2px -5px 7px yellow; animation: pulse 1.5s infinite; text-align: center;"><strong>21. </strong><strong>MENSAJE 3</strong></h4>  

    <div class="answers">
        <label><input type="radio" name="q21" value="A"> A. Mañana no abre.</label><br>
        <label><input type="radio" name="q21" value="B"> B. Han quedado para cenar.</label><br>
        <label><input type="radio" name="q21" value="C"> C. Hoy no pueden usar algo.</label><br>
        <label><input type="radio" name="q21" value="D"> D. Mañana tiene otro horario.</label><br>
        <label><input type="radio" name="q21" value="E"> E. Cortan el pelo gratis.</label><br>
        <label class="fixed-background" style="background-color: lightgrey;"><input type="radio" name="q7" value="F" disabled> F. Finalmente tiene alojamiento en ese lugar.</label><br>
        <label><input type="radio" name="q21" value="G"> G. Pide un favor.</label><br>
        <label><input type="radio" name="q21" value="H"> H. Dan un regalo.</label><br>
        <label><input type="radio" name="q21" value="I"> I. Se va a celebrar otro día.</label><br>
        <label><input type="radio" name="q21" value="J"> J. Regalan entradas para el cine.</label><br>
        <label><input type="radio" name="q21" value="K"> K. No se sabe a qué hora empieza.</label>
    </div>
 </div>
 <br>
 <span class="cabeza"></span>
<div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <h4 style="text-shadow: 2px 5px 7px red, -2px -5px 7px yellow; animation: pulse 1.5s infinite; text-align: center;"><strong>22. </strong><strong>MENSAJE 4</strong></h4>  

    <div class="answers">
        <label><input type="radio" name="q22" value="A"> A. Mañana no abre.</label><br>
        <label><input type="radio" name="q22" value="B"> B. Han quedado para cenar.</label><br>
        <label><input type="radio" name="q22" value="C"> C. Hoy no pueden usar algo.</label><br>
        <label><input type="radio" name="q22" value="D"> D. Mañana tiene otro horario.</label><br>
        <label><input type="radio" name="q22" value="E"> E. Cortan el pelo gratis.</label><br>
        <label class="fixed-background" style="background-color: lightgrey;"><input type="radio" name="q7" value="F" disabled> F. Finalmente tiene alojamiento en ese lugar.</label><br>
        <label><input type="radio" name="q22" value="G"> G. Pide un favor.</label><br>
        <label><input type="radio" name="q22" value="H"> H. Dan un regalo.</label><br>
        <label><input type="radio" name="q22" value="I"> I. Se va a celebrar otro día.</label><br>
        <label><input type="radio" name="q22" value="J"> J. Regalan entradas para el cine.</label><br>
        <label><input type="radio" name="q22" value="K"> K. No se sabe a qué hora empieza.</label>
    </div>
</div>
<br>
<span class="cabeza"></span>
<div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <h4 style="text-shadow: 2px 5px 7px red, -2px -5px 7px yellow; animation: pulse 1.5s infinite; text-align: center;"><strong>23. </strong><strong>MENSAJE 5</strong></h4>  

    <div class="answers">
        <label><input type="radio" name="q23" value="A"> A. Mañana no abre.</label><br>
        <label><input type="radio" name="q23" value="B"> B. Han quedado para cenar.</label><br>
        <label><input type="radio" name="q23" value="C"> C. Hoy no pueden usar algo.</label><br>
        <label><input type="radio" name="q23" value="D"> D. Mañana tiene otro horario.</label><br>
        <label><input type="radio" name="q23" value="E"> E. Cortan el pelo gratis.</label><br>
        <label class="fixed-background" style="background-color: lightgrey;"><input type="radio" name="q7" value="F" disabled> F. Finalmente tiene alojamiento en ese lugar.</label><br>
        <label><input type="radio" name="q23" value="G"> G. Pide un favor.</label><br>
        <label><input type="radio" name="q23" value="H"> H. Dan un regalo.</label><br>
        <label><input type="radio" name="q23" value="I"> I. Se va a celebrar otro día.</label><br>
        <label><input type="radio" name="q23" value="J"> J. Regalan entradas para el cine.</label><br>
        <label><input type="radio" name="q23" value="K"> K. No se sabe a qué hora empieza.</label>
    </div>
</div>
<br>
<span class="cabeza"></span>
<div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <h4 style="text-shadow: 2px 5px 7px red, -2px -5px 7px yellow; animation: pulse 1.5s infinite; text-align: center;"><strong>24. </strong><strong>MENSAJE 6</strong></h4>  

    <div class="answers">
        <label><input type="radio" name="q24" value="A"> A. Mañana no abre.</label><br>
                    <label><input type="radio" name="q24" value="B"> B. Han quedado para cenar.</label><br>
            <label><input type="radio" name="q24" value="C"> C. Hoy no pueden usar algo.</label><br>
            <label><input type="radio" name="q24" value="D"> D. Mañana tiene otro horario.</label><br>
            <label><input type="radio" name="q24" value="E"> E. Cortan el pelo gratis.</label><br>
            <label class="fixed-background" style="background-color: lightgrey;"><input type="radio" name="q7" value="F" disabled> F. Finalmente tiene alojamiento en ese lugar.</label><br>
            <label><input type="radio" name="q24" value="G"> G. Pide un favor.</label><br>
            <label><input type="radio" name="q24" value="H"> H. Dan un regalo.</label><br>
            <label><input type="radio" name="q24" value="I"> I. Se va a celebrar otro día.</label><br>
            <label><input type="radio" name="q24" value="J"> J. Regalan entradas para el cine.</label><br>
            <label><input type="radio" name="q24" value="K"> K. No se sabe a qué hora empieza.</label>
        </div>
</div>
<br>
<span class="cabeza"></span>
<div style="background-color: #f0e6d2; padding: 10px; border-radius: 5px;"> 
    <h4 style="text-shadow: 2px 5px 7px red, -2px -5px 7px yellow; animation: pulse 1.5s infinite; text-align: center;"><strong>25. </strong><strong>MENSAJE 7</strong></h4>  

        <div class="answers">
            <label><input type="radio" name="q25" value="A"> A. Mañana no abre.</label><br>
            <label><input type="radio" name="q25" value="B"> B. Han quedado para cenar.</label><br>
            <label><input type="radio" name="q25" value="C"> C. Hoy no pueden usar algo.</label><br>
            <label><input type="radio" name="q25" value="D"> D. Mañana tiene otro horario.</label><br>
            <label><input type="radio" name="q25" value="E"> E. Cortan el pelo gratis.</label><br>
            <label class="fixed-background" style="background-color: lightgrey;"><input type="radio" name="q7" value="F" disabled> F. Finalmente tiene alojamiento en ese lugar.</label><br>
            <label><input type="radio" name="q25" value="G"> G. Pide un favor.</label><br>
            <label><input type="radio" name="q25" value="H"> H. Dan un regalo.</label><br>
            <label><input type="radio" name="q25" value="I"> I. Se va a celebrar otro día.</label><br>
            <label><input type="radio" name="q25" value="J"> J. Regalan entradas para el cine.</label><br>
            <label><input type="radio" name="q25" value="K"> K. No se sabe a qué hora empieza.</label>
        </div>
    </div>
    <br>


<br>
<button id="floating-button" onclick="toggleScroll()">
    <i class="fas fa-arrow-down"></i>
  </button>
    <button class="refresh-btn" onclick="location.reload()">
    <i class="fas fa-sync-alt"></i>
 </button>
    
     <button class="back-button" onclick="goBack()">
    <i class="fas fa-arrow-left"></i>
</button>
  
<center><i class="fas fa-hand-point-down" style="font-size: 24px; animation: bounceUpDown 2s infinite; color: red;"></i></center>
 <div style='text-align: center'>
            <button class="check-button" onclick="checkAnswers();">Comprobar respuestas</button>
<div id="box">
            <p id="score"></p>
        </div>
    </div>
            <br>
        </div>
        
        <script>

            function goBack() {
    window.history.back();
}
    
let currentTextIndex = 0; // Índice del texto actual
const texts = document.querySelectorAll('.cabeza'); // Selecciona todos los textos
const floatingButton = document.getElementById('floating-button');

function toggleScroll() {
  // Si estamos en el último texto, volvemos al primero
  if (currentTextIndex === texts.length - 1) {
    window.scrollTo({
      top: texts[0].offsetTop,
      behavior: 'smooth'
    });
    currentTextIndex = 0; // Reiniciamos el índice
    floatingButton.innerHTML = '<i class="fas fa-arrow-down"></i>'; // Cambiamos la flecha a "bajar"
  } else {
    // Avanzamos al siguiente texto
    currentTextIndex++;
    window.scrollTo({
      top: texts[currentTextIndex].offsetTop,
      behavior: 'smooth'
    });

    // Si llegamos al último texto, cambiamos la flecha a "subir"
    if (currentTextIndex === texts.length - 1) {
      floatingButton.innerHTML = '<i class="fas fa-arrow-up"></i>';
    }
  }
}

// Detectar la posición del scroll para actualizar la flecha automáticamente
window.addEventListener('scroll', () => {
  const scrollPosition = window.scrollY;

  // Verificar en qué texto está el usuario
  texts.forEach((text, index) => {
    const textTop = text.offsetTop;
    const textBottom = textTop + text.clientHeight;

    if (scrollPosition >= textTop && scrollPosition < textBottom) {
      currentTextIndex = index; // Actualizar el índice del texto actual

      // Cambiar la flecha automáticamente si estamos en el último texto
      if (index === texts.length - 1) {
        floatingButton.innerHTML = '<i class="fas fa-arrow-up"></i>';
      } else {
        floatingButton.innerHTML = '<i class="fas fa-arrow-down"></i>';
      }
    }
  });
});

document.addEventListener("DOMContentLoaded", function () {
    if (typeof emailjs !== "undefined") {
        emailjs.init("Mrc5n_wJUWdf3Py4v"); // Reemplaza con tu User ID real
        console.log("EmailJS inicializado correctamente.");
    } else {
        console.error("Error: EmailJS no se ha cargado correctamente.");
    }
});



let intervalId; // Variable global para almacenar el ID del intervalo
document.addEventListener("DOMContentLoaded", function () {
    // Guardar la hora de inicio en localStorage
    const horaInicio = new Date();
    localStorage.setItem('horaInicio', horaInicio.toISOString());

    // Solicitar nombre y apellido
    Swal.fire({
    title: 'Alumno/a:',
    html:
        '<input id="nombre" class="swal2-input" placeholder="Nombre">' +
        '<input id="apellido" class="swal2-input" placeholder="Apellido">',
    focusConfirm: false,
    allowOutsideClick: false, // Evita que se cierre al hacer clic fuera
    preConfirm: () => {
        const nombre = Swal.getPopup().querySelector('#nombre').value;
        const apellido = Swal.getPopup().querySelector('#apellido').value;
        if (!nombre || !apellido) {
            Swal.showValidationMessage('Por favor, ingresa tu nombre y apellido');
            return false;
        }
        return { nombre, apellido };
    }
}).then((result) => {
    if (result.isConfirmed) {
        const { nombre, apellido } = result.value;
        // Guardar en localStorage
        localStorage.setItem('nombre', nombre);
        localStorage.setItem('apellido', apellido);

        // Iniciar el temporizador
        startTimer(); // <-- Aquí se llama a la función
    } else {
        // Si el usuario no ingresa nombre y apellido, mostrar un mensaje de error
        Swal.fire('Error', 'Debes ingresar tu nombre y apellido para continuar', 'error');
    }
});
});



function sendEmail(score, horaInicio, horaFin) {
    const nombre = localStorage.getItem('nombre');
    const apellido = localStorage.getItem('apellido');

    // Calcular la duración del examen
    const duracionMs = horaFin - horaInicio; // Diferencia en milisegundos
    const duracionMinutos = Math.floor(duracionMs / 60000); // Convertir a minutos
    const duracionSegundos = Math.floor((duracionMs % 60000) / 1000); // Convertir a segundos

    // Formatear las horas para que sean legibles
    const formatoHora = (fecha) => fecha.toLocaleString('es-ES', {
        year: 'numeric',
        month: '2-digit',
        day: '2-digit',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
    });

    // Calcular la puntuación por tarea
    const correctAnswers = [
    "c", "a", "c", "b", "b", "c",  // Tarea 1
    "a", "c", "a", "b", "b", "a",  // Tarea 2
    "a", "c", "b", "a", "c", "a",  // Tarea 3
    "k", "g", "d", "h", "c", "b", "i"  // Tarea 4
    ];

    let scoreTarea1 = 0, scoreTarea2 = 0, scoreTarea3 = 0, scoreTarea4 = 0;

    for (let i = 1; i <= 25; i++) {
        const radios = document.getElementsByName("q" + i);
        for (let j = 0; j < radios.length; j++) {
            if (radios[j].checked && radios[j].value.toLowerCase() === correctAnswers[i - 1]) {
                if (i <= 6) scoreTarea1++; // Tarea 1
                else if (i <= 12) scoreTarea2++; // Tarea 2
                else if (i <= 18) scoreTarea3++; // Tarea 3
                else scoreTarea4++; // Tarea 4
            }
        }
    }

    // Mensaje con la puntuación desglosada
    const mensaje = `
    <p><strong>✎ Ha obtenido una puntuación de <u style="color:blue">${score}/25</u>.</strong></p>
    <p><strong>✎ Puntuación por tarea:</strong></p>
    <ul>
        <li><strong>Tarea 1:</strong> <span style="color: blue;">${scoreTarea1}/6</span></li>
        <li><strong>Tarea 2:</strong> <span style="color: green;">${scoreTarea2}/6</span></li>
        <li><strong>Tarea 3:</strong> <span style="color: orange;">${scoreTarea3}/6</span></li>
        <li><strong>Tarea 4:</strong> <span style="color: red;">${scoreTarea4}/7</span></li>
    </ul>
    <p><strong>✎ Hora de inicio:</strong> <u>${formatoHora(horaInicio)}</u></p>
    <p><strong>✎ Hora de fin:</strong> <u>${formatoHora(horaFin)}</u></p>
    <p><strong>✎ Duración del examen:</strong> <span style="color: purple;">${duracionMinutos} minutos y ${duracionSegundos} segundos</span>.</p>
`;

    console.log("Mensaje a enviar:", mensaje); // Log para depuración

    const emailParams = {
        to_email: "fawzi.elhilali@gmail.com", // Cambia esto por tu correo electrónico
        from_name: "Examen 1 de Comprensión auditiva",
        Nombre:  nombre,
        Apellido: apellido,
        message: mensaje
    };

    console.log("Enviando correo...", emailParams); // Log para depuración
    

    emailjs.send("service_n00qt69", "template_3l0u08l", emailParams)
        .then(function(response) {
            console.log("Correo enviado con éxito!", response.status, response.text);
        }, function(error) {
            console.log("Error al enviar el correo", error);
        });
}



          var checked = false;
  
          document.addEventListener("DOMContentLoaded", function () {
        const options = document.querySelectorAll("input[type='radio']");
        const audio = new Audio("https://assets.mixkit.co/active_storage/sfx/3005/3005-preview.mp3");
        const successAudio = new Audio("https://cdn.hailuoai.video/moss/prod/2025-02-22-09/moss-audio/user_audio//1740188338866710066-240170101170423.mp3");
        const moderateAudio = new Audio("https://cdn.hailuoai.video/moss/prod/2025-02-22-09/moss-audio/user_audio//1740188451835233162-240171095347485.mp3");
        const failAudio = new Audio("https://cdn.hailuoai.video/moss/prod/2025-02-22-09/moss-audio/user_audio//1740188277275915446-240169891483958.mp3");

        options.forEach(option => {
        option.addEventListener("change", function () {
            // Reproducir sonido
            audio.currentTime = 0;
            audio.play().catch(error => console.error("Error reproduciendo audio", error));

            // Quitar sombra de otras opciones del mismo grupo, excepto las de clase fixed-background
            const groupName = this.name;
            document.querySelectorAll(`input[name='${groupName}']`).forEach(input => {
                if (!input.parentNode.classList.contains("fixed-background")) {
                    input.parentNode.style.boxShadow = "none";
                    input.parentNode.style.backgroundColor = "transparent";
                }
            });

            // Agregar sombra gris a la opción seleccionada, excepto si es fixed-background
            if (!this.parentNode.classList.contains("fixed-background")) {
                this.parentNode.style.boxShadow = "0px 4px 8px rgba(0, 0, 0, 0.2)";
                this.parentNode.style.backgroundColor = "#f0f0f0";
            }
        });
    });

    window.checkAnswers = function () {
            if (!window.checked) {
                clearInterval(intervalId); // Detener el contador
                const horaFin = new Date();
                const horaInicio = new Date(localStorage.getItem('horaInicio'));

// Detener el audio si está reproduciéndose y restablecer el botón
const audioPlayer = document.getElementById('audioPlayer');
        const playButton = document.getElementById('playButton');

        if (!audioPlayer.paused) {
            audioPlayer.pause();
            audioPlayer.currentTime = 0; // Reiniciar el audio al inicio
        }

        playButton.textContent = "Play"; // Restablecer el texto del botón
        playButton.disabled = true; // Deshabilitar el botón después de comprobar respuestas


      
                var correctAnswers = [
                "c", "a", "c", "b", "b", "c",  // Tarea 1
                "a", "c", "a", "b", "b", "a",  // Tarea 2
                "a", "c", "b", "a", "c", "a",  // Tarea 3
                "k", "g", "d", "h", "c", "b", "i"  // Tarea 4
                   ];
                var score = 0;

                for (var i = 1; i <= 25; i++) {
                    var radios = document.getElementsByName("q" + i);

                    if (radios.length > 0) {
                        for (var j = 0; j < radios.length; j++) {
                            var radio = radios[j];
                            if (radio.checked) {
                                if (radio.value.toLowerCase() === correctAnswers[i - 1]) {
                                    radio.parentNode.classList.add("correct1");
                                    score++;
                                } else {
                                    radio.parentNode.classList.add("incorrect1");
                                }
                            }
                            radio.disabled = true;
                        }
                    }
                }

                var scoreText = document.getElementById("score");
                scoreText.innerHTML = `<span style="font-size:40px; color: blue;">${score}/25</span>`;

                var scoreBox = document.getElementById("box");
                scoreBox.classList.add("score-updated");
                setTimeout(() => {
                    scoreBox.classList.remove("score-updated");
                }, 5000);
                sendEmail(score, horaInicio, horaFin);

// Deshabilita el botón después de comprobar respuestas
document.querySelector('.check-button').disabled = true;
              
                let audioToPlay;
                let swalOptions;

                if (score >= 25) {
                    audioToPlay = successAudio;
                    swalOptions = {
                        title: "¡Excelente!",
                        text: `Has obtenido ${score}/25 🎉`,
                        icon: "success",
                        willClose: () => { audioToPlay.pause(); audioToPlay.currentTime = 0; }
                    };
                } else if (score >= 15) {
                    audioToPlay = moderateAudio;
                    swalOptions = {
                        title: "¡Bien hecho!",
                        text: `Has obtenido ${score}/25 😊`,
                        icon: "success",
                        willClose: () => { audioToPlay.pause(); audioToPlay.currentTime = 0; }
                    };
                } else {
                    audioToPlay = failAudio;
                    swalOptions = {
                        title: "¡Sigue intentando!",
                        text: `Has obtenido ${score}/25 😢`,
                        icon: "error",
                        willClose: () => { audioToPlay.pause(); audioToPlay.currentTime = 0; }
                    };
                }

                audioToPlay.currentTime = 0;
                audioToPlay.play().catch(error => console.error("Error reproduciendo audio", error));
                Swal.fire(swalOptions);

                window.checked = true;
            }
        };
    });

  

    document.addEventListener('DOMContentLoaded', function() {
            const playButton = document.getElementById('playButton');
            const audioPlayer = document.getElementById('audioPlayer');

            playButton.addEventListener('click', function() {
                audioPlayer.play();
                playButton.textContent = "En escucha";
                playButton.disabled = true;
            });

            audioPlayer.addEventListener('ended', function() {
                playButton.textContent = "Play";
                playButton.disabled = false;
            });
        });

  </script>
  </body>
  </html>
